(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;(function(a){return typeof define=="function"&&define.amd?define(["jquery","jquery-add-easing"],a):a(jQuery)})(function(c){var d;return window.debugMode=document.location.hash.match(/debug/)&&typeof console!="undefined"&&console!==null,window.jQueryParachuteObject=d=function(){function e(){this.boxModelList=["top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","width","height"],this.transformationsList=["x","y","translate","rotate","rotateX","rotateY","rotate3d","scale","perspective","skewX","skewY","opacity"]}var d;return e.prototype.init=function(a,b,c){var d,e=this;return this.animation=a,this.$elem=b,this.callback=c,d=this,setTimeout(function(){return e.translateAnimation(function(){return d.animate(function(){return debugMode&&typeof console!="undefined"&&console!==null&&console.log("animation complete"),typeof c=="function"&&c!=null&&typeof c.apply=="function"&&c.apply(b),d})})},0,!0)},e.prototype.rotateInPlace=function(a,b){var d=this;return setTimeout(function(){var e;return c(d.$elem).attr("data-rotate-percent")!=null?e=parseFloat(c(d.$elem).attr("data-rotate-percent")):e=.1,d.setRotation(d.$elem,a*parseFloat(e)),e<1?(c(d.$elem).attr("data-rotate-percent",e+.1),d.rotateInPlace(a,b)):c(d.$elem).attr("data-rotate-percent",".1")},b/20,!0)},e.prototype.skewInPlace=function(a,b,d){var e=this;return setTimeout(function(){var f;return c(e.$elem).attr("data-skew-percent")!=null?f=parseFloat(c(e.$elem).attr("data-skew-percent")):f=.1,e.skew(a,b,f),f<1?(c(e.$elem).attr("data-skew-percent",f+.1),e.skewInPlace(a,b,d)):c(e.$elem).attr("data-skew-percent",".1")},d/20,!0)},e.prototype.animate=function(a){var b,d,e,f;return typeof JSON!="undefined"&&JSON!==null&&debugMode&&typeof console!="undefined"&&console!==null&&console.log("animating the following! "+JSON.stringify(this.animation)),e=0,f=0,this.animation.rotate!=null&&this.animation.rotate!==0&&(c(this.$elem).attr("data-rotation",this.animation.rotate),d=parseInt(c(this.$elem).attr("data-rotation"))),this.animation.skewX!=null&&this.animation.skewX!==0&&(c(this.$elem).attr("data-skewX",this.animation.skewX),e=parseInt(c(this.$elem).attr("data-skewX"))),this.animation.skewY!=null&&this.animation.skewY!==0&&(c(this.$elem).attr("data-skewY",this.animation.skewY),f=parseInt(c(this.$elem).attr("data-skewY"))),delete this.animation.rotate,delete this.animation.skewX,delete this.animation.skewY,b={duration:this.duration,easing:this.easing,step:this.stepFunction},c(this.$elem).delay(this.delay).animate(this.animation,b),this.hasOnlyTransforms(this.animation,this.transformationsList)&&(d!=null&&this.rotateInPlace(d,this.duration),f!==0?this.skewInPlace(e,f,this.duration):e!==0&&this.skewInPlace(e,f,this.duration)),typeof a=="function"?a():void 0},e.prototype.hasOnlyTransforms=function(a,b){var c;return c=!0,a.left!=null&&(c=!1),a.top!=null&&(c=!1),c},e.prototype.stepFunction=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;l=(a/b.end).toFixed(2),c(this).attr("data-rotation")!=null&&parseInt(c(this).attr("data-rotation"))!==0&&(n=c(this).attr("data-rotation")),c(this).attr("data-skewX")!=null&&parseInt(c(this).attr("data-skewX"))!==0&&(p=c(this).attr("data-skewX")),c(this).attr("data-skewY")!=null&&parseInt(c(this).attr("data-skewY"))!==0&&(q=c(this).attr("data-skewY"));if(n!=null){f=c(this).css("left"),g=c(this).css("top"),k=Math.PI*2/360,m=c(this).attr("data-rotation")*l*k,i=Math.cos(m),o=Math.sin(m),d=parseFloat(i).toFixed(8),h=parseFloat(-o).toFixed(8),e=parseFloat(o).toFixed(8),j=parseFloat(i).toFixed(8);if(this.filters!=null&&this.filters.item(0)!=null&&this.filters.item(0).M11!=null)try{this.filters.item(0).M11=i,this.filters.item(0).M12=-o,this.filters.item(0).M21=o,this.filters.item(0).M22=i}catch(r){typeof console!="undefined"&&console!==null&&console.log("rotate error: "+r.message)}else this.setAttribute("style","position:absolute; -moz-transform:  matrix("+d+", "+e+", "+h+", "+j+", 0, 0); -webkit-transform:  matrix("+d+", "+e+", "+h+", "+j+", 0, 0); -o-transform:  matrix("+d+", "+e+", "+h+", "+j+", 0, 0);");c(this).css("left",f),c(this).css("top",g)}if(debugMode)return console.log(""+l+"%")},e.prototype.setRotation=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;f=c(a).css("left"),g=c(a).css("top"),l=Math.PI*2/360,n=b*l,j=Math.cos(n),p=Math.sin(n),d=parseFloat(j).toFixed(8),h=parseFloat(-p).toFixed(8),e=parseFloat(p).toFixed(8),k=parseFloat(j).toFixed(8);if(a.filters!=null&&a.filters.item(0)!=null&&a.filters.item(0).M11!=null)try{a.filters.item(0).M11=j,a.filters.item(0).M12=-p,a.filters.item(0).M21=p,a.filters.item(0).M22=j}catch(r){typeof console!="undefined"&&console!==null&&console.log("rotate error: "+r.message)}else a.setAttribute("style","position:absolute; -moz-transform:  matrix("+d+", "+e+", "+h+", "+k+", 0, 0); -webkit-transform:  matrix("+d+", "+e+", "+h+", "+k+", 0, 0); -o-transform:  matrix("+d+", "+e+", "+h+", "+k+", 0, 0);");return n=b*Math.PI/180,n%=2*Math.PI,n<0&&(n+=2*Math.PI),n%=Math.PI,n>Math.PI/2&&(n=Math.PI-n),i=Math.cos(n),o=Math.sin(-n),q=(c(a).height()-c(a).height()*i+c(a).width()*o)/2,m=(c(a).width()-c(a).width()*i+c(a).height()*o)/2,c(a).css("top",q+g)},e.prototype.skew=function(a,b,d){var e,f;return d==null&&(d=1),e=c(this.$elem).css("left"),f=c(this.$elem).css("top"),c(this.$elem).transform({skewX:""+a*d+"deg",skewY:""+b*d+"deg"}),c(this.$elem).animateTransform({skewX:""+a*d+"deg",skewY:""+b*d+"deg"}),c(this.$elem).css("left",e),c(this.$elem).css("top",f)},e.prototype.translateAnimation=function(b){var d,e,f,g;this.duration=this.animation.duration!=null?this.animation.duration:c.fx.speeds._default,this.easing=this.animation.easing!=null?this.animation.easing:"linear",this.delay=this.animation.delay!=null?this.animation.delay:0,this.animation=this.reject(this.animation,"duration","easing","delay"),this.easing.search(!0)&&c.addEasing(this.easing),e={},g=this.animation;for(d in g)f=g[d],a.call(this.transformationsList,d)>=0&&(e[d]=f);return this.hasOwnProperties(e,this.transformationsList)&&(this.animation=this.translateTransforms(this.getElementBoxModel(this.$elem),e)),typeof b=="function"?b():void 0},e.prototype.getElementBoxModel=function(a){var b,c,e,f,g;b={},a.length!=null&&(a=a[0]),g=this.boxModelList;for(e=0,f=g.length;e<f;e++)c=g[e],d(a,c)!=="auto"&&(b[c]=d(a,c));return b["left"]==null&&(b.left=0),b["top"]==null&&(b.top=0),b},d=function(a,b){return c(a).css(b)},e.prototype.convertRelativeUnits=function(a){var b;return b=function(a){return/\+\=/.exec(a)?a=a.replace(/\+\=/,""):/\-\=/.exec(a)&&(a=a.replace(/\-\=/,"-")),a},a.rotate!=null&&(a.rotate=b(a.rotate)),a.x!=null&&(a.x=b(a.x)),a.y!=null&&(a.y=b(a.y)),a.skewX!=null&&(a.skewX=b(a.skewX)),a.skewY!=null&&(a.skewY=b(a.skewY)),c(this.$elem).attr("data-rotation")!=null&&a.rotate!=null&&(a.rotate=parseInt(c(this.$elem).attr("data-rotation"))+parseInt(a.rotate)),c(this.$elem).attr("data-skewX")!=null&&a.skewX!=null&&(a.skewX=parseInt(c(this.$elem).attr("data-skewX"))+parseInt(a.skewX)),c(this.$elem).attr("data-skewY")!=null&&a.skewY!=null&&(a.skewY=parseInt(c(this.$elem).attr("data-skewY"))+parseInt(a.skewY)),a},e.prototype.translateTransforms=function(b,d){var e,f,g,h;d=this.convertRelativeUnits(d),e={};for(f in b)h=b[f],typeof h=="string"&&(b[f]=parseInt(h));d.translate!=null&&(g=String(d.translate).split(","),g.length===2&&(d.x=g[0],d.y=g[1]));for(f in d)h=d[f],typeof h=="string"&&(d[f]=parseInt(h));d.scale instanceof Array&&d.scale.length===2?(d.scaleX=d.scale[0],d.scaleY=d.scale[1]):(d.scaleX=d.scale,d.scaleY=d.scale),d.scaleX==null&&(d.scaleX=1),d.scaleY==null&&(d.scaleY=1),d.scale!==1&&c(this.$elem).attr("data-scale-width")!=null&&c(this.$elem).attr("data-scale-height")!=null&&c(this.$elem).attr({"data-scale-width":b.width,"data-scale-height":b.height}),c(this.$elem).attr("data-scale-width")!=null&&c(this.$elem).attr("data-scale-height")!=null&&(b.width=c(this.$elem).attr("data-scale-width"),b.height=c(this.$elem).attr("data-scale-height")),e.left=b.left,e.top=b.top,d.x!=null&&(e.left+=d.x),d.y!=null&&(e.top+=d.y),e.skewX=0,d.skewX!=null&&(e.skewX=d.skewX),e.skewY=0,d.skewY!=null&&(e.skewY=d.skewY),d.scaleX!=null&&d.scaleX!==1&&(e.width=d.scaleX*b.width,e.left+=(b.width-e.width)*.5),d.scaleY!=null&&d.scaleY!==1&&(e.height=d.scaleY*b.height,e.top+=(b.height-e.height)*.5),e.left===b.left&&delete e.left,e.top===b.top&&delete e.top,d.opacity!=null&&(e.opacity=d.opacity),d.rotate!=null&&(e.rotate=d.rotate);for(f in e)h=e[f],a.call(this.boxModelList,f)>=0&&(e[f]=""+e[f]+"px");return e},e.prototype.hasOwnProperties=function(a,b){var c,d,e,f;c=!1;for(e=0,f=b.length;e<f;e++)d=b[e],a.hasOwnProperty(d)&&(c=!0);return c},e.prototype.reject=function(){var c,d,e,f,g,h;d=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],f={},h=function(b){if(a.call(e,b)<0)return f[b]=d[b]};for(c in d)g=d[c],h(c);return f},e}(),c.fn.parachute=function(a,b,e,f){var g;return g=this,typeof b=="function"?(f=b,b="undefined"):b!=null&&(a.duration=b),typeof e=="function"?(f=e,e="undefined"):e!=null&&(a.easing=e),c(this).css({filter:"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand')"}),this.each(function(){var b;return b=new d,b.init(a,this,f)})}})}).call(this);